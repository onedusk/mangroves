# NO MORE than 6-8 operations/subtasks per task - if more, create new file
id: "test-fix-002"
task: "Resolve Phlex/Capybara integration causing 'to_html' errors"
entry: "2025-10-20"
modified: "2025-10-20"
priority: "H"
project: "mangroves"
status: "completed"
uuid: "phlex-cap-002"
urgency: "8.5"
subtasks:
  - "Identify pattern causing Capybara::Node::Simple passed to Phlex components"
  - "Review FooterComponent spec to find where Capybara nodes are passed as strings"
  - "Fix NavigationComponent spec similarly"
  - "Fix HeroComponent spec similarly"
  - "Ensure render helpers convert Capybara results to strings properly"
  - "Run all 54 affected component specs to verify resolution"
must_reference:
  - "docs/rails_conventions.md"
  - "spec/components/footer_component_spec.rb"
  - "spec/components/navigation_component_spec.rb"
  - "spec/components/hero_component_spec.rb"
  - "app/components/footer_component.rb"
  - "app/components/navigation_component.rb"
  - "app/components/hero_component.rb"
